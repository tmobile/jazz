<div class="sidebar-frame">
  <div class="loading-overlay" *ngIf="loading">
    <div class="loading-circle"></div>
  </div>
  <div class='title'>
    <span>{{service?.name}}</span>
    <div class='icon-icon-close pointer' (click)='onClose.emit()'></div>
  </div>
  <div class="try-service-sections">
    <section>
      <div class="page-summary">Welcome to the AWS Lamda tester</div>
    </section>
    <section>
      <div class="column-description">
        <strong>Save Event Parameters</strong>
        <div class="section-description">Keep this box checked to save your work!</div>
      </div>
      <div class="column-input try-service-cb">
        <div class="custom-cb">
          <input id="try-service-cb" type="checkbox" [checked]="savingPayload"
                 (click)="toggleSavePayload(!savingPayload)">
          <label for="try-service-cb"></label>
          <div class="cb-status-dets"></div>c
        </div>
      </div>
    </section>
    <section>
      <div class="column-description">
        <strong>Input</strong>
        <div class="section-description">Enter the parameters for your function here.</div>

        <strong>Content-Type</strong>
        <dropdown [dropdwnContent]="contentTypeMenu" [selected]="contentTypeSelected"></dropdown>

        <div class="format-button">
          <button (click)="formatJSON()" class="btn-round btn-xs primary">FORMAT</button>
        </div>
      </div>
      <div class="column-input">
        <div class="textbox">
          <div class="line-numbers">
            <div *ngFor="let value of lineNumberCount; let i = index">{{i + 1}}</div>
          </div>
          <textarea [(ngModel)]="inputValue" class="input-textarea" (change)="toggleSavePayload(savingPayload)"></textarea>
        </div>
        <p class="warning" *ngIf="!valid">{{validityMessage}}</p>
        <div class="button-group">
          <button (click)="onClose.emit()" class="btn-round secondary">CANCEL</button>
          <button (click)="startTest()" class="btn-round primary start-button">TEST</button>
        </div>
      </div>
    </section>
    <section>
      <div class="column-description">
        <strong>Output</strong>
        <div class="section-description">Once your function runs you will see the results shown here</div>
      </div>
      <div class="column-input">
        <div class="textbox">
          <div class="line-numbers">
            <div *ngFor="let value of lineNumberCount; let i = index">{{i + 1}}</div>
          </div>
          <textarea [(ngModel)]="outputValue" class="output-textarea"></textarea>
        </div>
      </div>
    </section>

  </div>
</div>
