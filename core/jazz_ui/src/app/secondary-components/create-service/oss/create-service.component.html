<jazz-mob-header (backClick)='closeCreateService(serviceRequestSuccess)' class='show-for-mobile' [icon]="'notification'" [headText]="'Create a Service'" [status]="'none'"></jazz-mob-header>
<div (scroll)="onScroll($event)" id="crs" class="create-service-wrap" (click)="closeDropdowns()" [ngClass]="isLoading ? 'body-fix':'body-auto'">
    <section class="each-step-wrap create-service-header hide-for-mobile">
        <h4 class="bold-title">
            Build a Service
        </h4>
        <!-- <img (click)="closeCreateService(serviceRequestSuccess)" src="../assets/images/icons/icon-close@3x.png"> -->
        <div (click)="closeCreateService(serviceRequestSuccess)" class="icon-icon-close"></div>

    </section>
    <div *ngIf='!serviceRequested' class="pad-for-mobile">
        <section id="typeofservice" class="each-step-wrap type-of-service">
            <div class="sec-heading flex" (click)="typeofservice = !typeofservice">
                <div class="sec-heading-text margin-15">
                    Type of service
                </div>
            </div>
            <div class="row">
                <div class="title-container">
                    <p class="step-title">Choose the type of service you want to create<span>*</span></p>
                </div>
                <div class="space-between content">
                    <section class="pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'api'}" (keyup.enter)="changeServiceType('api')" (click)="changeServiceType('api')">
                            <div class="icon-icon-api"></div>
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfService == 'api'}">
                            <p class="name-style">Api</p>
                        </div>
                    </section>
                    <section class="pad-left0 service-box-section">
                        <div id="tile-function" tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'function'}" (keyup.enter)="changeServiceType('function')" (click)="changeServiceType('function')">
                            <img src="./../../../../assets/images/icons/function-glyph.svg">
                        </div>
                        <div class="icon-name" *ngIf="typeOfPlatform == 'aws'" [ngClass]="{'service-box-selected': typeOfService == 'function'}">
                            <p class="name-style">{{eventLabels.functionLabel}}</p>
                        </div>
                        <div class="icon-name" *ngIf="typeOfPlatform == 'azure'" [ngClass]="{'service-box-selected': typeOfService == 'function'}">
                            <p class="name-style">{{azureEventLabels.azurefunctionLabel}}</p>
                        </div>
                    </section>
                    <section class="pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'website'}" (keyup.enter)="changeServiceType('website')" (click)="changeServiceType('website')">
                            <div class="icon-icon-web selected"></div>
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfService == 'website'}">
                            <p class="name-style">Website</p>
                        </div>
                    </section>
                    <section class="service-box-section align-self">OR</section>
                    <section class="pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'sls-app'}" (keyup.enter)="changeServiceType('sls-app')" (click)="changeServiceType('sls-app')">
                            <div class="icon-icon-sls-app selected">
                                <img src="./../../../assets/images/icons/Build-custom.svg"/>
                            </div>
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfService == 'sls-app'}">
                            <p class="name-style">Custom</p>
                        </div>
                    </section>
                </div>
            </div>
        </section>
        <section id="platform-type" class="each-step-wrap type-of-platform in-active" [ngClass]="{'borderBottom': deploymentTargets[typeOfService.toUpperCase()].active && apigeeFeature && awsOnly}">
            <div class="sec-heading flex" (click)="deploymentOpen()">
                <div class="sec-heading-text" >
                    Deployment details
                </div>
            </div>
            <div class="row">
                <div class="title-container">
                    <p class="step-title">Choose what platform you would like to use<span>*</span></p>
                </div>
                <div class="space-between content width-content">
                    <section class="pad-left0 service-box-section">
                        <div id="tile-aws" tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'aws'}" (click)="changePlatformType('aws')">
                            <img src="./../../../../assets/images/aws-logo-alt.svg">
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfPlatform == 'aws'}">
                            <p class="name-style">Aws</p>
                        </div>
                    </section>
                    <section class="pad-left0 service-box-section">
                        <div id="tile-azure" tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'azure','disabled-azure':typeOfPlatform != 'azure','disabled-box':azureEnabled == false}" (click)="changePlatformType('azure')">
                            <img *ngIf=" azureEnabled == false" src="./../../../../assets/images/azure-deselected.png">
                            <img *ngIf=" azureEnabled == true" src="./../../../../assets/images/azure-logo.svg">
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfPlatform == 'azure'}">
                            <p class="name-style">Azure</p>
                        </div>
                    </section>
                    <section class="pad-left0 service-box-section">
                        <div id="tile-gcloud" tabindex="-1" class="service-box disabled-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'gcloud'}" (click)="changePlatformType('gcloud')">
                            <img src="./../../../../assets/images/google-cloud-logo.svg">
                        </div>
                        <div class="icon-name" [ngClass]="{'service-box-selected': typeOfPlatform == 'gcloud'}">
                            <p class="name-style">Google Cloud</p>
                        </div>
                    </section>
                </div>
            </div>
        </section>

        <section class="form-row deployment-targets" *ngIf="deploymentTargets[typeOfService.toUpperCase()].active && apigeeFeature && awsOnly">
            <div class="row">
                <div class="title-container">
                    <p class="step-title">Choose your API deployment target<span>*</span></p>
                </div>
                <div class="">
                    <div  id="deployment-type" *ngIf="!deploymenttargetSelected" class="">
                        <div class="service-type-width space-between content">
                            <section class="pad-left0 service-box-section">
                                <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': selectedDeploymentTarget == 'aws_apigateway'}" (keyup.enter)="changeDeploymentTarget('api')" (click)="changeDeploymentTarget('aws_apigateway')">
                                    <div class="" [ngClass]="{'selected': selectedDeploymentTarget == 'aws_apigateway'}">
                                        <img *ngIf="selectedDeploymentTarget == 'aws_apigateway'" [class.selected-image]="selectedDeploymentTarget == 'aws_apigateway'" src="./../../../../assets/images/icons/aws-api-gateway.svg"/>
                                        <img *ngIf="selectedDeploymentTarget != 'aws_apigateway'" [class.selected-image]="selectedDeploymentTarget == 'aws_apigateway'" src="./../../../../assets/images/icons/greyscale-icons/icon-awsgateway.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': selectedDeploymentTarget == 'aws_apigateway'}">
                                    <p class="name-style">AWS API GATEWAY</p>
                                </div>
                            </section>
                            <section class="pad-left0 service-box-section">
                                <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': selectedDeploymentTarget == 'gcp_apigee'}" (keyup.enter)="changeDeploymentTarget('gcp_apigee')" (click)="changeDeploymentTarget('gcp_apigee')">
                                    <div class="" [ngClass]="{'selected': selectedDeploymentTarget == 'gcp_apigee'}">
                                        <img *ngIf="selectedDeploymentTarget == 'gcp_apigee'" [class.selected-image]="selectedDeploymentTarget == 'gcp_apigee'" src="./../../../../assets/images/icons/Apigee.svg"/>
                                        <img *ngIf="selectedDeploymentTarget != 'gcp_apigee'" [class.selected-image]="selectedDeploymentTarget == 'gcp_apigee'" src="./../../../../assets/images/icons/greyscale-icons/icon-apigee.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': selectedDeploymentTarget == 'gcp_apigee'}">
                                    <p class="name-style">GCP APIGEE</p>
                                </div>
                            </section>
                            <section class="pad-left0 service-box-section">
                                <div class="service-box ghost">

                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="each-step-wrap run-time" *ngIf="typeOfService != 'website' && typeOfPlatform != 'gcloud' ">
            <div class="row">
                <div class="title-container">
                    <p class="step-title">Choose your runtime<span>*</span></p>
                </div>
                <div class="space-between content">
                    <div class="pad-left0 input-field-container allWidth" id="runtime-type">
                        <div class="runtime-row1 run-type-width space-between" [class.azure-width]="typeOfPlatform == 'azure'">
                            <section class="pad-left0 service-box-section">                  
                                <div tabindex="0" class="service-box"  [ngClass]="{'service-box-selected': runtime == runtimeKeys[0]}"(keyup.enter)="onSelectionChange(runtimeKeys[0])"  (click)="onSelectionChange(runtimeKeys[0])">
                                    <div class="">
                                        <img *ngIf="runtime == runtimeKeys[0]" [class.selected-image]="runtime == runtimeKeys[0]" src="./../../../../assets/images/icons/nodejs.svg"/>
                                        <img *ngIf="runtime != runtimeKeys[0]" [class.selected-image]="runtime == runtimeKeys[0]" src="./../../../../assets/images/icons/greyscale-icons/icon-nodejs.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[0]}">
                                    <p class="name-style">{{runtimeKeys[0]}}</p>
                                </div>
                            </section>

                            <section class="pad-left0 service-box-section" *ngIf="typeOfPlatform == 'azure'">                  
                                <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': runtime == runtimeKeys[1]}" (keyup.enter)="onSelectionChange(runtimeKeys[1])" (click)="onSelectionChange(runtimeKeys[1])">
                                    <div class="icon-icon-go">
                                            <img  *ngIf="runtime == runtimeKeys[1]" [class.selected-image]="runtime == runtimeKeys[1]" src="./../../../assets/images/icons/C.svg"/>
                                            <img  *ngIf="runtime != runtimeKeys[1]" [class.selected-image]="runtime == runtimeKeys[1]" src="./../../../../assets/images/icons/greyscale-icons/icon-c.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[1]}">
                                    <p class="name-style">{{runtimeKeys[1]}}</p>
                                </div>
                            </section> 

                            <section class="pad-left0 service-box-section" *ngIf="typeOfPlatform == 'aws'">
                                <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': runtime == runtimeKeys[1]}"(keyup.enter)="onSelectionChange(runtimeKeys[1])"  (click)="onSelectionChange(runtimeKeys[1])">
                                    <div class="icon-icon-python">
                                        <img *ngIf="runtime == runtimeKeys[1]" [class.selected-image]="runtime == runtimeKeys[1]" src="./../../../assets/images/icons/python.svg"/>
                                        <img *ngIf="runtime != runtimeKeys[1]" [class.selected-image]="runtime == runtimeKeys[1]" src="./../../../../assets/images/icons/greyscale-icons/icon-python.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[1]}">
                                    <p class="name-style">{{runtimeKeys[1]}}</p>
                                </div>
                            </section>
                            <section class="pad-left0 service-box-section" *ngIf="typeOfPlatform == 'aws'">
                                <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': runtime == runtimeKeys[2]}"(keyup.enter)="onSelectionChange(runtimeKeys[2])"  (click)="onSelectionChange(runtimeKeys[2])">
                                    <div class="icon-icon-python">
                                        <img *ngIf="runtime == runtimeKeys[2]" [class.selected-image]="runtime == runtimeKeys[2]" src="./../../../assets/images/icons/python.svg"/>
                                        <img *ngIf="runtime != runtimeKeys[2]" [class.selected-image]="runtime == runtimeKeys[2]" src="./../../../../assets/images/icons/greyscale-icons/icon-python.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[2]}">
                                    <p class="name-style">{{runtimeKeys[2]}}</p>
                                </div>
                            </section>
                        </div>
                        <div class="runtime-row2 run-type-width space-between">
                            <section class="pad-left0 service-box-section" *ngIf="typeOfPlatform == 'aws'">                  
                                <div tabindex="0" class="service-box"[ngClass]="{'service-box-selected': runtime == runtimeKeys[3]}"(keyup.enter)="onSelectionChange(runtimeKeys[3])"  (click)="onSelectionChange(runtimeKeys[3])">
                                    <div class="icon-icon-go">
                                        <img *ngIf="runtime == runtimeKeys[3]" [class.selected-image]="runtime == runtimeKeys[3]" src="./../../../assets/images/icons/Java.svg"/>
                                        <img *ngIf="runtime != runtimeKeys[3]" [class.selected-image]="runtime == runtimeKeys[3]" src="./../../../../assets/images/icons/greyscale-icons/icon-java.svg"/>
                                    </div>
                                </div> 
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[3]}">
                                    <p class="name-style">{{runtimeKeys[3]}}</p>
                                </div> 
                            </section>
                            
                            
                            <section class="pad-left0 service-box-section" *ngIf="typeOfPlatform == 'aws'">                  
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': runtime == runtimeKeys[4]}"(keyup.enter)="onSelectionChange(runtimeKeys[4])"  (click)="onSelectionChange(runtimeKeys[4])">
                                        <div class="icon-icon-go">
                                            <img *ngIf="runtime == runtimeKeys[4]" [class.selected-image]="runtime == runtimeKeys[4]" src="./../../../assets/images/icons/Go.svg"/>
                                            <img *ngIf="runtime != runtimeKeys[4]" [class.selected-image]="runtime == runtimeKeys[4]" src="./../../../../assets/images/icons/greyscale-icons/icon-go.svg"/>
                                        </div>
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[4]}">
                                        <p class="name-style">{{runtimeKeys[4]}}</p>
                                    </div>
                            </section>
                            
                            <section class="pad-left0 service-box-section disable-event" *ngIf="typeOfPlatform == 'aws'">                  
                                <div tabindex="0" class="service-box disabled-box" [ngClass]="{'service-box-selected': runtime == runtimeKeys[5]}" (keyup.enter)="onSelectionChange(runtimeKeys[5])" (click)="onSelectionChange(runtimeKeys[5])">
                                    <div class="icon-icon-go">
                                            <img  *ngIf="runtime == runtimeKeys[5]" [class.selected-image]="runtime == runtimeKeys[5]" src="./../../../assets/images/icons/C.svg"/>
                                            <img  *ngIf="runtime != runtimeKeys[5]" [class.selected-image]="runtime == runtimeKeys[5]" src="./../../../../assets/images/icons/greyscale-icons/icon-c.svg"/>
                                    </div>
                                </div>
                                <div class="icon-name" [ngClass]="{'service-box-selected': runtime == runtimeKeys[5]}">
                                    <p class="name-style">C#</p>
                                </div>
                            </section> 
    
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="each-step-wrap run-time" *ngIf="typeOfService == 'website'">
            <div class="row">
                <div class="title-container">
                    <p class="step-title">Choose website framework<span>*</span></p>
                </div>
                <div class="space-between content">
                    <div class="pad-left0 input-field-container allWidth" id="website-type">
                        <div class="runtime-row1 run-type-width space-between">
                            <section class="pad-left0 service-box-section">                  
                                <div tabindex="0" class="service-box"[ngClass]="{'service-box-selected': webtime == webKeys[0]}"(keyup.enter)="onWebSelectionChange(webKeys[0])"  (click)="onWebSelectionChange(webKeys[0])">
                                    <div>
                                        <img [class.unselected-image]="webtime != webKeys[0]" src="./../../../assets/images/html-bade.png"/>
                                    </div>
                                </div> 
                                <div class="icon-name" [ngClass]="{'service-box-selected': webtime == webKeys[0]}">
                                    <p class="name-style">{{webKeys[0]}}</p>
                                </div> 
                            </section>
                            <section class="pad-left0 service-box-section">                  
                                <div tabindex="0" class="service-box"[ngClass]="{'service-box-selected': webtime == webKeys[1]}"(keyup.enter)="onWebSelectionChange(webKeys[1])"  (click)="onWebSelectionChange(webKeys[1])">
                                    <div>
                                        <img [class.unselected-image]="webtime != webKeys[1]" src="./../../../assets/images/angular.png"/>
                                    </div>
                                </div> 
                                <div class="icon-name" [ngClass]="{'service-box-selected': webtime == webKeys[1]}">
                                    <p class="name-style">{{webKeys[1]}}</p>
                                </div> 
                            </section>
                            <section class="pad-left0 service-box-section">                  
                                <div tabindex="0" class="service-box"[ngClass]="{'service-box-selected': webtime == webKeys[2]}"(keyup.enter)="onWebSelectionChange(webKeys[2])"  (click)="onWebSelectionChange(webKeys[2])">
                                    <div>
                                        <img [class.unselected-image]="webtime != webKeys[2]" src="./../../../assets/images/react.png"/>
                                    </div>
                                </div> 
                                <div class="icon-name" [ngClass]="{'service-box-selected': webtime == webKeys[2]}">
                                    <p class="name-style">{{webKeys[2]}}</p>
                                </div> 
                            </section>
                        </div>

                    </div>
                </div>
            </div>
        </section>
        <div class="loader-wrp" [class.show]="isLoading">
            <div class="loader">
                <div class="inner one"></div>
                <div class="inner two"></div>
                <div class="inner three"></div>
            </div>
        </div>
        <form (ngSubmit)="onSubmit(); serviceForm.reset()" #serviceForm="ngForm" class='mob-form-pad'>
            <div class="sec-heading flex" (click)="additionalOpen()">
                <div class="sec-heading-text">
                    additional details
                </div>
            </div>
            <section class="each-step-wrap service-name" id="additional">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Service Name<span>*</span></p>
                        <p class="step-details">Name of your API, Microservice or Website that you want to create.</p>
                    </div>
                    <div class="">
                        <section class="content pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper" [ngClass]="{'available': serviceAvailable && !invalidServiceName && !invalidDomainName, 'unavailable': serviceNotAvailable || !serviceName.valid && (serviceName.dirty || serviceName.touched) || (serviceName.valid && invalidServiceName)}">
                                    <input name="serviceName" pattern="{{servicePatterns.serviceName}}" type="text" maxlength="{{serviceLimit}}" class="textForm" id="serviceName" required [(ngModel)]="model.serviceName" placeholder="Enter service name" (ngModelChange)="invalidServiceName = false;serviceAvailable=false" #serviceName='ngModel' (blur)="validateName($event)" >
                                    <img class="input-loader ng-hide">
                                    <p class="termsConditions" *ngIf="!serviceName.valid && (serviceName.dirty || serviceName.touched)">Service name must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceAvailable && !isDomainDefined">Service name is available !</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceAvailable && isDomainDefined && !invalidServiceName && !invalidDomainName">Service name in the specified namespace is available!</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceNotAvailable && !isDomainDefined">Service name is not available. Please try another service name</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceNotAvailable && isDomainDefined">Service name in the specified namespace is not available. Please try another combination of namespace & service name.</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && invalidServiceName">Service name should not start or end with hyphens</p>
                                    <img *ngIf="serviceName.valid && showLoader" class="input-loader" src="../assets/images/icons/loading.png">
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap domain-name">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Namespace<span>*</span></p>
                        <p class="step-details">Namespaces provide easier abstraction to implement similar security & access control on your APIs.</p>
                    </div>
                    <div class="">
                        <section class="content pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper" [ngClass]="{'unavailable' : !domainName.valid && (domainName.dirty || domainName.touched) || (domainName.valid && invalidDomainName) }">
                                    <input name="domainName" pattern="{{servicePatterns.domainName}}" maxlength="{{domainLimit}}" type="text" class="textForm" id="domainName" required placeholder="Enter namespace" [(ngModel)]="model.domainName" #domainName='ngModel' (blur)="validateName($event)" (ngModelChange)="invalidDomainName=false" required>
                                    <p class="termsConditions" *ngIf="!domainName.valid && (domainName.dirty || domainName.touched)">Namespace must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)</p>
                                    <p class="termsConditions" *ngIf="domainName.valid && invalidDomainName">Namespace should not start or end with hyphens</p>
                                    <img *ngIf="serviceName.valid && domainName.valid && showLoader" class="input-loader" src="../assets/images/icons/loading.png">
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap service-description">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Service Description</p>
                        <p class="step-details hide">Multiple APIs can be bundled under a single namespace. Namespace provide easier abstraction to implement similar security & access control on your APIs.</p>
                    </div>
                    <div class="">
                        <section class="content pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper">
                                    <textarea rows="2" cols="50" name="serviceDescription" type="text" class="textForm" placeholder="Service Description" id="serviceDescription" [(ngModel)]="model.serviceDescription"  #serviceDescription='ngModel'></textarea>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

             <section class="each-step-wrap Internal-access" *ngIf=" typeOfPlatform != 'azure'">
              <div class="row">
                  <div class="title-container">
                      <p class="step-title">Account &amp; Region</p>
                      <p class="step-details">Choose the account and region you want your application deployed on</p>
                  </div>
                  <div class="col-lg-8 col-md-8">
                      <section class="col-lg-12  pad-left0">
                          <div class="account-region-wrap">
                            <div class="each-section-accReg">
                              <div class="accReg-label">
                                Account
                              </div>
                              <div class="accReg-dropdown">
                                <dropdown *ngIf="deploymentTargetSelected !== 'gcp_apigee'" class='dropdown'  [dropdwnContent]="accountList" title="accountDetails" [selected]="accountDetails" (onSelected)="onaccountSelected($event)"></dropdown>
                                <div *ngIf="deploymentTargetSelected === 'gcp_apigee'" class="defaultDropdown">302890901340 (tmodevops)</div>
                              </div>
                            </div>
                            <div class="">
                              <div class="accReg-label">
                                Region
                              </div>
                              <div class="accReg-dropdown">
                                <dropdown *ngIf="deploymentTargetSelected !== 'gcp_apigee'" class='dropdown'  [dropdwnContent]="regionList" title="regionSelected" [selected]="regionSelected" (onSelected)="onregionSelected($event)"></dropdown>
                                <div *ngIf="deploymentTargetSelected === 'gcp_apigee'" class="defaultDropdown">us-west-2</div>
                              </div>
                            </div>

                          </div>
                      </section>
                  </div>
              </div>
            </section>

            <section id="deployment-descriptor" class="each-step-wrap service-description" *ngIf="typeOfService == 'sls-app'">
                <div class="">
                    <div class="">
                        <p class="step-title">Deployment Descriptor</p>
                        <p class="step-details">See <a a target="_blank" href="https://github.com/serverless/examples">https://github.com/serverless/examples</a> for examples of currently supported serverless templates.</p>
                    </div>
                    <div class="">
                        <section class="pad-left0">
                            
                            <filters  class="filters" [filtersList]="deploymentDescriptorFilterData" [multiple]="false" [selectedList]="selectedList" (onSelected)="onFilterSelected($event)"></filters>

                            <div  class="input-field-container">
                                <div class="input-wrapper">           
                                    <div class="main-div" *ngIf="!isstartNew">
                                    <div class="div-line">
                                    <div class="line-num border opac">
                                        <div  *ngFor="let value of lineNumberCount;let i = index">{{i + 1}}</div>                                                
                                    </div>
                                    <div class="myservice opac">
                                        <p class="parameter">service:</p>
                                        <div class="services-name">
                                            <p class="service">name:</p>
                                            <p class="magenta">{{model.serviceName}}</p>
                                        </div>
                                        <div class="services-name">
                                            <p class="parameter">frameworkVersion:</p>
                                            <p class="magenta">{{version}}</p> 
                                        </div> 
                                        <p class="parameter">provider:</p>
                                            <div class="services-name">
                                                <p class="service">name:</p>
                                                <p class="magenta">{{typeOfPlatform}}</p>
                                            </div>
                                            <div class="services-name">
                                                <p class="service">runtime:</p>
                                                <p class="magenta">{{runtime}}</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class= "text-line">
                                        <div class="textbox">
                                            <div class="line-num radius">
                                        <div *ngFor="let value of lineNumberCounting; let i = index">{{i + 9}}</div>
                                    </div>
                                    <textarea rows="2" cols="50" id="field" name="deploymentDescriptorText" type="text" class="text-area"  [(ngModel)]="deploymentDescriptorText" (change)="validateYAML()" (blur)="validateYAML()"(ngModelChange)="lineNumbers()"></textarea>
                                </div>
                                </div>
                                </div>
                                    <div *ngIf="isstartNew" class="startnew">
                                    <textarea rows="2" cols="50"  name="deploymentDescriptorText" type="text" class="textForm deployment"  [(ngModel)]="deploymentDescriptorText" (change)="validateYAML()" (blur)="validateYAML()"></textarea>
                                    <p class="descriptorError" *ngIf="isDescriptorEmpty">Please enter the valid Deployment Descriptor.</p>
                                </div>

                                </div>
                            </div>
                            <div class="form-error" *ngIf="!isyamlValid">Invalid Yaml Text</div>
                        </section>
                    </div>
                </div>
            </section>

            <section class="each-step-wrap slack-channel-integration">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Slack Channel Integration</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb" [class.disable-event]='!SlackEnabled'>
                                    <input type="checkbox" id="checkbox-slack" class="ng-untouched ng-valid ng-dirty ng-valid-parse" [disabled]='!SlackEnabled' aria-invalid="false" [checked]="slackSelected" (change)="slackSelected = !slackSelected">
                                    <label for="checkbox-slack" [class.disble]='!SlackEnabled'></label>
                                    <div class="cb-status-dets"> Do you want us to notify you through #Slack?</div>
                                </div>
                                <div *ngIf="slackSelected == true">
                                    <div class="input-wrapper" [ngClass]="{'available': slackAvailble, 'unavailable': slackNotAvailble|| channelNameError || !channelname.valid && (channelname.dirty || channelname.touched)}">
                                        <input name="channelname" id="channelname" type="text" class="textForm" pattern="{{servicePatterns.slackChannel}}" required placeholder="Enter Slack Channel name" #channelname='ngModel' [(ngModel)]="model.slackName" (blur)="checkSlackNameAvailability()" (ngModelChange)="onSlackChange($event)">
                                        <img class="input-loader ng-hide">
                                        <p class="termsConditions" *ngIf="!channelname.valid && (channelname.dirty || channelname.touched)">Slack channel must contain only letters, numbers, hyphens and underscores.</p>
                                        <p class="termsConditions" *ngIf="channelname.valid && slackAvailble">Slack channel is available.</p>
                                        <p class="termsConditions" *ngIf="channelname.valid && slackNotAvailble">Slack channel is not available. Please provide a valid slack channel.</p>
                                        <p class="termsConditions" *ngIf="channelname.valid && channelNameError">Error in validating Slack Channel name. Please try again or contact administrator.</p>
                                        <img *ngIf="channelname.valid && slackChannelLoader" class="input-loader" src="../assets/images/icons/loading.png">
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap cache-ttl-integration" *ngIf="typeOfService == 'api'">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Cache Time-to-Live (TTL)</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb disable-event">
                                    <input disabled type="checkbox" id="checkbox-ttl" [checked]="ttlSelected" (change)="ttlSelected = !ttlSelected" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false">
                                    <label for="checkbox-ttl" class="disble"></label>
                                    <div class="cb-status-dets"> Yes, enable caching for my API.</div>
                                </div>
                                <div *ngIf="ttlSelected == true">
                                    <div class="input-wrapper" [ngClass]="{'unavailable': invalidttl}">
                                        <input name="ttlField" type="number" class="textForm" required placeholder="Enter time in seconds" [(ngModel)]="model.ttlValue" (ngModelChange)="onTTLChange($event)" #ttlField='ngModel' min="1" max="3600" OnlyNumber="true">
                                        <img class="input-loader ng-hide">
                                        <p class="termsConditions"> Maximum value fot TTL is 3600 seconds</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap event-schedule" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">Event Schedule</p>
                    </div>
                    <div class="schedule">
                        <div class="input-field-container event-schedule-radio row zero-margin space-between event-width">
                                <section class="pad-left0 service-box-section">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': rateExpression.type == 'none'}"
                                        (click)="onEventScheduleChange('none')">
                                        <img src="./../../../../assets/images/icons/Group.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': rateExpression.type == 'none'}">
                                        <p class="name-style">None</p>
                                    </div>
                                </section>
                                <section class="pad-left0 service-box-section">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': rateExpression.type == 'rate'}"
                                        (click)="onEventScheduleChange('rate')">
                                        <img src="./../../../../assets/images/icons/fixed-rate-glyph.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': rateExpression.type == 'rate'}">
                                        <p class="name-style">Fixed Rate of</p>
                                    </div>
                                </section>
                                <section class="pad-left0 service-box-section">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': rateExpression.type == 'cron'}"
                                        (click)="onEventScheduleChange('cron')">
                                        <img src="./../../../../assets/images/icons/cron-glyph.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': rateExpression.type == 'cron'}">
                                        <p class="name-style">Cron Expression</p>
                                    </div>
                                </section>
                        </div>
                        <div class="event-schedule-fields" [ngClass]="{'zero-padding': rateExpression.type == 'none'}">
                            <div class='clearfix'>
                                <div class="cron-fields row zero-margin arrow_box" *ngIf="rateExpression.type == 'cron'">
                                    <div class="col-lg-2" *ngIf="typeOfPlatform == 'azure'">
                                        <p class="sm-input-label">Seconds</p>
                                            <div class="input-wrapper">
                                                <input name="rateMinute" type="text" class="textForm" required [(ngModel)]="cronObj.minutes" #rateMinute='ngModel' (ngModelChange)="generateExpression(rateExpression)">
                                            </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Minutes</p>
                                        <div class="input-wrapper">
                                            <input name="rateMinute" type="text" class="textForm" required [(ngModel)]="cronObj.minutes" #rateMinute='ngModel' (ngModelChange)="generateExpression(rateExpression)">
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Hours</p>
                                        <div class="input-wrapper">
                                            <input name="rateHour" type="text" class="textForm" [(ngModel)]="cronObj.hours" #rateHour='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Day-of-month</p>
                                        <div class="input-wrapper">
                                            <input name="rateDayofMonth" type="text" class="textForm" [(ngModel)]="cronObj.dayOfMonth" #rateDayofMonth='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Month</p>
                                        <div class="input-wrapper">
                                            <input name="rateMonth" type="text" class="textForm" [(ngModel)]="cronObj.month" #rateMonth='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Day-of-week</p>
                                        <div class="input-wrapper">
                                            <input name="rateDayOfWeek" type="text" class="textForm" [(ngModel)]="cronObj.dayOfWeek" #rateDayOfWeek='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2" *ngIf="typeOfPlatform == 'aws'">
                                        <p class="sm-input-label">Year</p>
                                        <div class="input-wrapper">
                                            <input name="rateYear" type="text" class="textForm" required [(ngModel)]="cronObj.year" #rateYear='ngModel' (ngModelChange)="generateExpression(rateExpression)">
                                        </div>
                                    </div>
                                </div>
                                <div class="rate-field row  zero-margin arrow_box" *ngIf="rateExpression.type == 'rate'">
                                    <div class="col-lg-7">
                                        <div class="input-wrapper" [ngClass]="{'available': rateField.valid && (rateField.dirty || rateField.touched), 'unavailable': !rateField.valid && (rateField.dirty || rateField.touched)}">
                                            <input name="rateField" type="number" class="textForm" required [(ngModel)]="rateExpression.duration" (ngModelChange)="generateExpression(rateExpression)" #rateField='ngModel' OnlyNumber="true">
                                            <img class="input-loader ng-hide">
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="input-wrapper">
                                            <dropdown [dropdwnContent]="rateData" [selected]="rateExpression.interval" [statusFilter]="statusFilter" (onSelected)="onSelectedDr($event)"></dropdown>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-error" *ngIf="rateExpression.error != undefined && rateExpression.type != 'none'">
                                {{rateExpression.error}}
                            </div>
                            <p *ngIf="rateExpression.type != 'none' && typeOfPlatform === 'aws'" class="learn-more"><a target="_blank" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html">Learn more</a> about AWS Event Schedule</p>
                            <p *ngIf="rateExpression.type != 'none' && typeOfPlatform === 'azure'" class="learn-more"><a target="_blank" href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer#ncrontab-expressions">Learn more</a> about Azure Event Schedule</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- start of aws events -->
            <section class="each-step-wrap aws-events" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">{{events}} Events</p>
                        <p class="step-details">Select appropriate events that you want to subscribe to.</p>
                    </div>
                    <div class="event-icon">
                        <div class="input-field-container event-schedule-radio row zero-margin" *ngIf="typeOfPlatform === 'aws'">
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': eventExpression.type == 'awsEventsNone'}"
                                        (click)="onAWSEventChange('awsEventsNone')">
                                        <img src="./../../../../assets/images/icons/Group.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': eventExpression.type == 'awsEventsNone'}">
                                        <p class="name-style">None</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': eventExpression.type == 'dynamodb'}"
                                        (click)="onAWSEventChange('dynamodb')">
                                        <img src="./../../../../assets/images/icons/220px-DynamoDB.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': eventExpression.type == 'dynamodb'}">
                                        <p class="name-style">DynamoDB</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': eventExpression.type == 'kinesis'}"
                                        (click)="onAWSEventChange('kinesis')">
                                        <img src="./../../../../assets/images/icons/kinesis.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': eventExpression.type == 'kinesis'}">
                                        <p class="name-style">kinesis</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': eventExpression.type == 's3'}"
                                        (click)="onAWSEventChange('s3')">
                                        <img src="./../../../../assets/images/icons/aws-s3.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': eventExpression.type == 's3'}">
                                        <p class="name-style">S3</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': eventExpression.type == 'sqs'}"
                                        (click)="onAWSEventChange('sqs')">
                                        <img src="./../../../../assets/images/icons/sqs.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': eventExpression.type == 'sqs'}">
                                        <p class="name-style">SQS</p>
                                    </div>
                                </section>
                        </div>
                        <div class="input-field-container event-schedule-radio row zero-margin" *ngIf="typeOfPlatform === 'azure'">
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': azureEventExpression.type == 'azureEventsNone'}"
                                        (click)="onAzureEventChange('azureEventsNone')">
                                        <img src="./../../../../assets/images/icons/Group.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': azureEventExpression.type == 'azureEventsNone'}">
                                        <p class="name-style">none</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': azureEventExpression.type == 'cosmosdb'}"
                                        (click)="onAzureEventChange('cosmosdb')">
                                        <img src="./../../../../assets/images/icons/cosmos.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': azureEventExpression.type == 'cosmosdb'}">
                                        <p class="name-style">Cosmos DB</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': azureEventExpression.type == 'eventhub'}"
                                        (click)="onAzureEventChange('eventhub')">
                                        <img src="./../../../../assets/images/icons/azure-event-hub.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': azureEventExpression.type == 'eventhub'}">
                                        <p class="name-style">Event Hub</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                    <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': azureEventExpression.type == 'storageaccount'}"
                                        (click)="onAzureEventChange('storageaccount')">
                                        <img src="./../../../../assets/images/icons/Azure-Storage.svg">
                                    </div>
                                    <div class="icon-name" [ngClass]="{'service-box-selected': azureEventExpression.type == 'storageaccount'}">
                                        <p class="name-style">Storage</p>
                                    </div>
                                </section>
                                <section class="service-box-section event-type-container">
                                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': azureEventExpression.type == 'servicebusqueue'}"
                                            (click)="onAzureEventChange('servicebusqueue')">
                                            <img src="./../../../../assets/images/icons/download.svg">
                                        </div>
                                        <div class="icon-name" [ngClass]="{'service-box-selected': azureEventExpression.type == 'servicebusqueue'}">
                                            <p class="name-style">Service Bus</p>
                                        </div>
                                    </section>
                        </div>
                        <div class="aws-event-fields rate-exp-wrp zero-margin" [ngClass]="{'zero-padding': eventExpression.type == 'awsEventsNone'}" *ngIf="typeOfPlatform === 'aws'">
                            <div class="dynamodb-fields row zero-margin arrow_box hide" [class.show]="chkDynamodb()">
                                <div class="col-lg-3">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform === 'aws' ? "PutItem" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{eventLabels.databaseNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input *ngIf="typeOfPlatform == 'aws'" type="text" disabled="disabled" class="inline-input input-label aws-events-left-block" value="{{dynamoStreamString}}">
                                        <input id="dynamoTable" name="dynamoTable" type="text" minlength="3" maxlength="{{eventMaxLength.table_name}}" #dynamoTable='ngModel' pattern="{{servicePatterns.tableName}}" [(ngModel)]="eventExpression.dynamoTable"  [focus]="focusDynamo" (blur)="validateEvents(eventExpression.dynamoTable)" (ngModelChange)="invalidEventName = false;onChangeText('dynamoTable')" [ngClass]="{'full-width' : typeOfPlatform !== 'aws'}" class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="Table Name" >
                                  </div>
                                </div>
                                <p class="termsConditions error-message" *ngIf="((chkDynamodb()) && (!dynamoTable.valid && (dynamoTable.dirty || dynamoTable.touched)))">Table name must contain only letters, numbers, hyphens, underscores or periods. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkDynamodb() && invalidEventName)">Table name Should not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'aws'">Function would be triggered whenever a new entry is added to the table. Note that the DynamoDB table should exist already and Jazz creates a new stream for this table</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function would be triggered whenever a new entry is added or updated to the table. Note that Jazz will create the Cosmos DB table</p>
                            </div>

                            <div class="kinesis-fields row zero-margin arrow_box hide" [class.show]="chkfrKinesis()">
                                <div class="col-lg-3">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform === 'aws' ? "PutRecord" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{eventLabels.streamNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input *ngIf="typeOfPlatform == 'aws'" type="text" disabled="disabled" class="inline-input input-label stream aws-events-left-block" value="{{kinesisStreamString}}">
                                        <input id="streamARN" name="streamARN" type="text" #streamARN="ngModel" maxlength="{{eventMaxLength.stream_name}}" pattern="{{servicePatterns.streamName}}" [(ngModel)]="eventExpression.streamARN" [focus]="focusKinesis" (blur)="validateEvents(eventExpression.streamARN)" (ngModelChange)="invalidEventName = false;onChangeText('streamARN')" [ngClass]="{'full-width' : typeOfPlatform !== 'aws'}"  class="inline-input stream aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="{{eventLabels.streamNameLabel}}" >
                                  </div>
                                </div>
                                <p class="termsConditions error-message" *ngIf="((chkfrKinesis()) && (!streamARN.valid && (streamARN.dirty || streamARN.touched)))">Stream name must contain only letters, numbers, hyphens, underscores or periods.</p>
                                <p class="termsConditions error-message" *ngIf="(chkfrKinesis() && invalidEventName)">Stream name Should not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'aws'">Function would be triggered whenever the Lambda checkpoint has not reached the end of the Kinesis stream</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function would be triggered whenever respond to an event sent to an event hub event stream</p>
                            </div>

                            <div class="s3-fields row zero-margin arrow_box hide" [class.show]="chkS3()">
                                <div class="col-lg-3">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform === 'aws' ? "PutItem" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{eventLabels.storageNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input id="S3BucketName" name="S3BucketName" type="text"  minlength="3" maxlength="{{eventMaxLength.bucket_name}}" pattern="{{servicePatterns.bucketName}}" #S3BucketName="ngModel" [(ngModel)]="eventExpression.S3BucketName" [focus]="focusS3" (blur)="validateEvents(eventExpression.S3BucketName)" (ngModelChange)="invalidEventName = false;onChangeText('S3BucketName')" class="inline-input aws-events-left-block aw-events-s3 ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="{{eventLabels.storageNameLabel}}"  autofocus>
                                  </div>
                                </div>
                                <p class="termsConditions error-message" *ngIf="((chkS3()) && (!S3BucketName.valid && (S3BucketName.dirty || S3BucketName.touched)))">Bucket name must contain only lowercase letters, numbers or hyphens. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkS3() && invalidEventName)">Bucket name Should not begin or end with special character.</p>

                                <p class="learn-more" *ngIf="typeOfPlatform === 'aws'">Function would be triggered when an object is added or modified inside the bucket. Creating this lambda trigger will override any previously created triggers on this bucket for any ObjectCreated:*</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function would be triggered whenever a new or updated blob is detected. The blob contents are provided as input to the function</p>
                            </div>

                            <div class="sqs-fields row zero-margin arrow_box hide" [class.show]="chkSQS()">
                              <div class="col-lg-12">
                                  <div class="text">{{eventLabels.queueNameLabel}}</div>
                                  <div class="label-input slct-bx-selected input-wrapper">
                                      <input *ngIf="typeOfPlatform == 'aws'" type="text" disabled="disabled" class="inline-input input-label stream-sqs aws-events-left-block" value="{{sqsStreamString}}">
                                      <input id="SQSstreamARN" name="SQSstreamARN" type="text" #SQSstreamARN="ngModel" [(ngModel)]="eventExpression.SQSstreamARN" pattern="{{servicePatterns.queueName}}" maxlength="{{eventMaxLength.queue_name}}" [focus]="focusSQS" (blur)="validateEvents(eventExpression.SQSstreamARN)" (ngModelChange)="invalidEventName = false;onChangeText('SQSstreamARN')" [ngClass]="{'full-width' : typeOfPlatform !== 'aws'}" class="inline-input stream aws-events-right-block aws-events-right-block-sqs ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="{{eventLabels.queueNameLabel}}" >
                                  </div>
                                </div>
                                <p class="termsConditions error-message" *ngIf="((chkSQS()) && (!SQSstreamARN.valid && (SQSstreamARN.dirty || SQSstreamARN.touched)))">Queue name must contain only letters, numbers, hyphens or underscores.</p>
                                <p class="termsConditions error-message" *ngIf="(chkSQS() && invalidEventName)">Queue name Should not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'aws'">Function would be triggered whenever new messages are added to the source SQS queue</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function would be triggered whenever new messages are added to the source service bus queue</p>
                              </div>

                        </div>
                        <div class="aws-event-fields rate-exp-wrp zero-margin" [ngClass]="{'zero-padding': azureEventExpression.type == 'azureEventsNone'}"
                            *ngIf="typeOfPlatform === 'azure'">
                            <div class="dynamodb-fields row zero-margin arrow_box hide" [class.show]="chkDocumentdb()">
                                <div class="col-lg-3">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform !== 'azure' ? "PutItem" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{azureEventLabels.azuredatabaseNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input *ngIf="typeOfPlatform == 'azure'" type="text" disabled="disabled"
                                            class="inline-input input-label aws-events-left-block cursor" title="{{documentDBStreamString}}" value="{{documentDBStreamString}}">
                                        <input id="cosmosdb" name="cosmosdb" type="text" minlength="3"
                                            maxlength="{{eventMaxLength.table_name}}" #cosmosdb='ngModel'
                                            pattern="{{servicePatterns.tableName}}" [(ngModel)]="azureEventExpression.cosmosdb"
                                            [focus]="focusDocumentDB" (blur)="validateEvents(azureEventExpression.cosmosdb)"
                                            (ngModelChange)="invalidAzureEventName = false;onChangeText('cosmosdb')"
                                            [ngClass]="{'full-width' : typeOfPlatform !== 'azure'}"
                                            class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required"
                                            placeholder="Table Name">
                                    </div>
                                </div>
                                <p class="termsConditions error-message"
                                    *ngIf="((chkDocumentdb()) && (!cosmosdb.valid && (cosmosdb.dirty || cosmosdb.touched)))">Table name
                                    must contain only letters, numbers, hyphens, underscores or periods. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkDocumentdb() && invalidAzureEventName)">Table name Should
                                    not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Cosmos DB Trigger uses the Azure Cosmos DB Change Feed to listen for inserts and updates across partitions. The change feed publishes inserts and updates.</p>
                            </div>
                            <div class="kinesis-fields row zero-margin arrow_box hide" [class.show]="chkEventHub()">
                                <div class="col-lg-3">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform !== 'azure' ? "PutRecord" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{azureEventLabels.azurestreamNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input *ngIf="typeOfPlatform == 'azure'" type="text" disabled="disabled"
                                            class="inline-input input-label aws-events-left-block cursor" title="{{eventStreamString}}" value="{{eventStreamString}}">
                                        <input id="eventhub" name="eventhub" type="text" minlength="3"
                                            maxlength="{{eventMaxLength.table_name}}" #eventhub='ngModel'
                                            pattern="{{servicePatterns.tableName}}" [(ngModel)]="azureEventExpression.eventhub"
                                            [focus]="focusEventHub" (blur)="validateEvents(azureEventExpression.eventhub)"
                                            (ngModelChange)="invalidAzureEventName = false;onChangeText('eventhub')"
                                            [ngClass]="{'full-width' : typeOfPlatform !== 'azure'}"
                                            class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required"
                                            placeholder="Event Hub Name">
                                    </div>
                                </div>
                                <p class="termsConditions error-message"
                                    *ngIf="((chkEventHub()) && (!eventhub.valid && (eventhub.dirty || eventhub.touched)))">Event Hub name
                                    must contain only letters, numbers, hyphens, underscores or periods. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkEventHub() && invalidAzureEventName)">Event Hub name Should not
                                    begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function trigger to respond to an event sent to an event hub event stream.</p>
                            </div>
                            <div class="s3-fields row zero-margin arrow_box hide" [class.show]="chkStorageAccount()">
                                <div class="col-lg-3 ">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">{{typeOfPlatform !== 'azure' ? "PutItem" : "*"}}</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">{{azureEventLabels.azurestorageNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input id="storageaccount" name="storageaccount" type="text" minlength="3"
                                            maxlength="{{eventMaxLength.table_name}}" #storageaccount='ngModel'
                                            pattern="{{servicePatterns.tableName}}" [(ngModel)]="azureEventExpression.storageaccount"
                                            [focus]="focusStorageAccount" (blur)="validateEvents(azureEventExpression.storageaccount)"
                                            (ngModelChange)="invalidAzureEventName = false;onChangeText('storageaccount')"
                                            [ngClass]="{'full-width' : typeOfPlatform !== 'azure'}"
                                            class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required"
                                            placeholder="Storage Account">
                                    </div>
                                </div>
                                <p class="termsConditions error-message"
                                    *ngIf="((chkStorageAccount()) && (!storageaccount.valid && (storageaccount.dirty || storageaccount.touched)))">Storage
                                    Account must contain only letters, numbers, hyphens, underscores or periods. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkStorageAccount() && invalidAzureEventName)">Storage Account
                                    Should not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Blob storage trigger starts a function when a new or updated blob is detected. The blob contents are provided as input to the function.</p>
                            </div>
                            <div class="sqs-fields row zero-margin arrow_box hide" [class.show]="chkServiceBus()">
                                <div class="serviceBus-div">
                                    <div class="text">{{azureEventLabels.azurequeueNameLabel}}</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input *ngIf="typeOfPlatform == 'azure'" type="text" disabled="disabled"
                                            class="inline-input input-label aws-events-left-block cursor" title="{{serviceBusStreamString}}" value="{{serviceBusStreamString}}">
                                        <input id="servicebusqueue" name="servicebusqueue" type="text" minlength="3"
                                            maxlength="{{eventMaxLength.table_name}}" #servicebusqueue='ngModel'
                                            pattern="{{servicePatterns.tableName}}" [(ngModel)]="azureEventExpression.servicebusqueue"
                                            [focus]="focusServiceBus" (blur)="validateEvents(azureEventExpression.servicebusqueue)"
                                            (ngModelChange)="invalidAzureEventName = false;onChangeText('servicebusqueue')"
                                            [ngClass]="{'full-width' : typeOfPlatform !== 'azure'}"
                                            class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required"
                                            placeholder="Service Bus Name">
                                    </div>
                                </div>
                                <p class="termsConditions error-message"
                                    *ngIf="((chkServiceBus()) && (!servicebusqueue.valid && (servicebusqueue.dirty || servicebusqueue.touched)))">Service Bus name
                                    must contain only letters, numbers, hyphens, underscores or periods. Enter atleast 3 characters</p>
                                <p class="termsConditions error-message" *ngIf="(chkServiceBus() && invalidAzureEventName)">Service Bus name Should
                                    not begin or end with special character.</p>
                                <p class="learn-more" *ngIf="typeOfPlatform === 'azure'">Function trigger to respond to messages from a Service Bus Queue.</p>
                            </div>
                        </div>
                        </div>
                        </div>
                        </section>
            <!-- end of aws events -->
            <section class="each-step-wrap cloudfront-url" *ngIf="typeOfService == 'website'">
                <div class="row">
                    <div class="title-container">
                        <p class="step-title">CDN configuration</p>
                        <p class="step-details hide">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb disable-event">
                                    <input disabled type="checkbox" id="checkbox-cdnconfig" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="true" (change)="cdnConfigSelected = !cdnConfigSelected"><!--[checked]="cdnConfigSelected" -->
                                    <label for="checkbox-cdnconfig" class="disble"></label>
                                    <div class="cb-status-dets">Do you need CDN configured for your website?</div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <p class="requiredInfo"><span>*</span>Indicates required fields</p>
            <section class="submit-form">
                <button type="submit" [disabled]="!serviceForm.valid || (disableForm()) || disableFunction" class="btn btn-primary">SUBMIT</button>
            </section>
        </form>
    </div>
    <div *ngIf='serviceRequested'>
        <section class="success-screen" *ngIf='serviceRequestSuccess'>
            <img src="../assets/images/create-success.png">
            <p class="success-text">SUCCESS!</p>
            <section >
                    <p class="refer">{{resMessage}}<a (click)="closeCreateService(serviceRequestSuccess)">here</a>.</p>
                </section>
                <section >
                    <p class="refer">You can find more details on next steps <a  target="_blank" href="{{docs_link}}">here</a>.</p>

                </section>
            <section class="footer-btn">
                <btn-jazz-primary text="DONE" newclass="back-btn" (click)="closeCreateService(serviceRequestSuccess)"></btn-jazz-primary>
            </section>
        </section>
        <section class="error-screen" *ngIf='serviceRequestFailure'>
            <img src="../assets/images/refresh.png">
            <p class="error-text">Oops!</p>
            <section>
                <p class="refer">{{errMessage}}</p>
                <p class="refer">If the issue persists, please contact us </p>
            </section>
            <section class="footer-btn">
                <btn-jazz-primary text="BACK" newclass="back-btn" (click)="backToCreateService()"></btn-jazz-primary>
            </section>
        </section>
    </div>
</div>