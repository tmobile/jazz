<jazz-mob-header (backClick)='closeCreateService(serviceRequestSuccess)' class='show-for-mobile' [icon]="'notification'" [headText]="'Create a Service'" [status]="'none'"></jazz-mob-header>
<div class="create-service-wrap" (click)="closeDropdowns()" [ngClass]="isLoading ? 'body-fix':'body-auto'">
    <section class="each-step-wrap create-service-header hide-for-mobile">
        <h4 class="bold-title">
            Create a Service
        </h4>
        <div (click)="closeCreateService(serviceRequestSuccess)" class="icon-icon-close"></div>
    </section>
    <div *ngIf='!serviceRequested' class="pad-for-mobile">
        <section class="each-step-wrap type-of-service">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <p class="step-title">Choose the type of service you want to create  <span>*</span></p>
                    <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                </div>
                <div class="col-lg-8 col-md-8">
                    <section class="col-lg-3 col-md-3 col-sm-4 col-xs-4  pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'api'}" (keyup.enter)="changeServiceType('api')" (click)="changeServiceType('api')">
                            <div class="icon-icon-api" [ngClass]="{'selected': typeOfService == 'function'}"></div>
                            <p>API</p>
                        </div>
                    </section>
                    <section class="col-lg-3 col-md-3 col-sm-4 col-xs-4  pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'function'}" (keyup.enter)="changeServiceType('function')" (click)="changeServiceType('function')">
                            <div class="icon-icon-function" [ngClass]="{'selected': typeOfService == 'function'}"></div>
                            <p>FUNCTION</p>
                        </div>
                    </section>
                    <section class="col-lg-3 col-md-3 col-sm-4 col-xs-4 pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfService == 'website'}" (keyup.enter)="changeServiceType('website')" (click)="changeServiceType('website')">
                            <div class="icon-icon-web" [ngClass]="{'selected': typeOfService == 'function'}"></div>
                            <p>WEBSITE</p>
                        </div>
                    </section>
                </div>
            </div>
        </section>
        <section class="each-step-wrap type-of-platform">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <p class="step-title">Choose what platform you would like to use<span>*</span></p>
                    <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                </div>
                <div class="col-lg-8 col-md-8">
                    <section class="col-lg-3 col-md-3 col-sm-3 col-xs-3 pad-left0 service-box-section">
                        <div tabindex="0" class="service-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'aws'}" (click)="changePlatformType('aws')">
                            <div class="icon-icon-AWS">
                                <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span><span class="path11"></span><span class="path12"></span><span class="path13"></span><span class="path14"></span><span class="path15"></span><span class="path16"></span><span class="path17"></span><span class="path18"></span><span class="path19"></span><span class="path20"></span><span class="path21"></span><span class="path22"></span><span class="path23"></span><span class="path24"></span><span class="path25"></span><span class="path26"></span><span class="path27"></span><span class="path28"></span><span class="path29"></span><span class="path30"></span><span class="path31"></span><span class="path32"></span><span class="path33"></span>
                            </div>
                            <p>AWS</p>
                        </div>
                    </section>
                    <section class="col-lg-3 col-md-3 col-sm-3 col-xs-3 pad-left0 service-box-section">
                        <div tabindex="-1" class="service-box disabled-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'azure'}" (click)="changePlatformType('azure')">
                            <div class="icon-icon-azure"></div>
                            <p>Azure</p>
                        </div>
                    </section>
                    <section class="col-lg-3 col-md-3 col-sm-3 col-xs-3 pad-left0 service-box-section">
                        <div tabindex="-1" class="service-box disabled-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'gcloud'}" (click)="changePlatformType('gcloud')">
                            <div class="icon-icon-googlecloud"></div>
                            <p>Google Cloud</p>
                        </div>
                    </section>
                    <section class="col-lg-3 col-md-3 col-sm-3 col-xs-3 pad-left0 service-box-section hide">
                        <div class="service-box disabled-box" [ngClass]="{'service-box-selected': typeOfPlatform == 'ccp'}" (click)="changePlatformType('ccp')">
                            <div class="icon-icon-ccp"></div>
                            <p>CCP</p>
                        </div>
                    </section>
                </div>
            </div>
        </section>
        <section class="each-step-wrap run-time" *ngIf="typeOfService != 'website'">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <p class="step-title">Choose your runtime<span>*</span></p>
                    <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                </div>
                <div class="col-lg-8 col-md-8">
                    <div class="input-field-container">
                        <section class="col-lg-3 col-md-3 pad-left0">
                            <div class="radio-container">
                                <input type="radio" class='test-focus' name="runtime" id="nodejs" [value]="nodejs" [checked]="runtime == 'nodejs'" (click)="onSelectionChange('nodejs')">
                                <label for="nodejs"><span class='outer'></span><span class="background"></span>Nodejs (6.10)</label>
                            </div>
                        </section>
                        <section class="col-lg-3 col-md-3 pad-left0">
                            <div class="radio-container">
                                <input type="radio" name="runtime" id="java" [value]="java" [checked]="runtime == 'java'" (click)="onSelectionChange('java')">
                                <label for="java"><span class='outer'></span><span class="background"></span>Java 8</label>
                            </div>
                        </section>
                        <section class="col-lg-3 col-md-3 pad-left0">
                            <div class="radio-container">
                                <input type="radio" name="runtime" id="python" [value]="python" [checked]="runtime == 'python'" (change)="onSelectionChange('python')">
                                <label for="python"><span class='outer'></span><span class="background"></span>Python (2.7)</label>
                            </div>
                        </section>
                        <section class="col-lg-3 col-md-3 pad-left0">
                            <div class="radio-container" class="disable-event">
                                <input type="radio" disabled='disabled' name="runtime" id="cshell" [value]="cshell" [checked]="runtime == 'cshell'" (click)="onSelectionChange('cshell')">
                                <label for="cshell"><span class='outer'></span><span class="background"></span>C#</label>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </section>
        <div class="loader-wrp" [class.show]="isLoading">
            <div class="loader">
                <div class="inner one"></div>
                <div class="inner two"></div>
                <div class="inner three"></div>
            </div>
        </div>
        <form (ngSubmit)="onSubmit(); serviceForm.reset()" #serviceForm="ngForm" class='mob-form-pad'>
            <section class="each-step-wrap service-name">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Service Name<span>*</span></p>
                        <p class="step-details">Name of your API, Microservice or Website that you want to create.</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper" [ngClass]="{'available': serviceAvailable && !invalidServiceName && !invalidDomainName, 'unavailable': serviceNotAvailable || !serviceName.valid && (serviceName.dirty || serviceName.touched) || (serviceName.valid && invalidServiceName)}">
                                    <input name="serviceName" pattern="^[A-Za-z0-9\-]+$" type="text" class="textForm" id="serviceName" required [(ngModel)]="model.serviceName" placeholder="Enter service name" (ngModelChange)="invalidServiceName = false;serviceAvailable=false" #serviceName='ngModel' (blur)="validateName($event)" >
                                    <img class="input-loader ng-hide">
                                    <p class="termsConditions" *ngIf="!serviceName.valid && (serviceName.dirty || serviceName.touched)">Service name must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceAvailable && !isDomainDefined">Service name is available !</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceAvailable && isDomainDefined && !invalidServiceName && !invalidDomainName">Service name in the specified namespace is available!</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceNotAvailable && !isDomainDefined">Service name is not available. Please try another service name</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && serviceNotAvailable && isDomainDefined">Service name in the specified namespace is not available. Please try another combination of namespace & service name.</p>
                                    <!-- <p class="termsConditions" *ngIf="serviceName.valid && serviceNameError">Error in validating Slack Channel name. Please try again or contact administrator.</p> -->
                                    <p class="termsConditions" *ngIf="serviceName.valid && invalidServiceName">Service name should not start with number or hyphens and should not end with hyphens</p>
                                    <p class="termsConditions" *ngIf="serviceName.valid && invalidServiceNameNum">Service name should not start a number</p>                                                                        
                                    <img *ngIf="serviceName.valid && showLoader" class="input-loader" src="../assets/images/icons/loading.png">
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap domain-name">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Namespace<span>*</span></p>
                        <p class="step-details">Namespace provides easier abstraction to implement similar security & access control on your services.</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper" [ngClass]="{'unavailable' : !domainName.valid && (domainName.dirty || domainName.touched) || (domainName.valid && invalidDomainName) }">
                                    <input name="domainName" pattern="^[A-Za-z0-9\-]+$" type="text" class="textForm" id="domainName" required placeholder="Enter namespace" [(ngModel)]="model.domainName" #domainName='ngModel' (blur)="validateName($event)" (ngModelChange)="invalidDomainName=false" required>
                                    <p class="termsConditions" *ngIf="!domainName.valid && (domainName.dirty || domainName.touched)">Namespace must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)</p>
                                    <p class="termsConditions" *ngIf="domainName.valid && invalidDomainName">Namespace should not start with number or hyphens and should not end with hyphens</p>                                    
                                    <img *ngIf="serviceName.valid && domainName.valid && showLoader" class="input-loader" src="../assets/images/icons/loading.png">                                    
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
    
            </section>
            <section class="each-step-wrap accounts hide" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Accounts</p>
                        <p class="step-details">To which accounts should we deploy your service to?</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="selected-approvers">
                                    <ul (click)='focusInputAccount($event)'>
                                        <li *ngFor="let selected of selectedAccount;let i=index"   >
                                            {{selected}}
                                            <span (click)="removeAccount(i, selected)" class="icon-icon-close"></span>
                                        </li>
                                        <input (keydown)="keypressAccount($event)"  (blur)='blurAccount()' autocomplete="off" id="AccountInput" name="AccountInput" type="text" class="textForm" [(ngModel)]="AccountInput" (ngModelChange)="onAccountChange($event)">

                                    </ul>
                                </div>
                                <div [hidden]="!showAccountList" class="approvers-list-wrap">
                                    <div class="approvers-list typeShow open">
                                        <div class="approvers-dets" *ngFor="let account of accounts| myfilter:AccountInput;let k = index;" (focus)=" k==focusindex " [ngClass]="{pinkfocus : k==focusindex }" [ngStyle]="scrollList" >
                                            <div  (click)="selectAccount(account);$event.stopPropagation();" index="{k}" [attr.account]='account'>{{account}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap regions hide" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Regions</p>
                        <p class="step-details">To which regions should we deploy your service to?</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="selected-approvers">
                                    <ul (click)='focusInputRegion($event)'>
                                        <li *ngFor="let selected of selectedRegion;let i=index"   >
                                            {{selected}}
                                            <span (click)="removeRegion(i, selected)" class="icon-icon-close"></span>
                                        </li>
                                        <input (keydown)="keypressRegion($event)" (blur)='blurRegion()' autocomplete="off" id="regionInput" name="regionInput" type="text" class="textForm" [(ngModel)]="regionInput" (ngModelChange)="onRegionChange($event)">

                                    </ul>
                                </div>
                                <div [hidden]="!showRegionList" class="approvers-list-wrap">
                                    <div class="approvers-list typeShow open">
                                        <div class="approvers-dets" *ngFor="let region of regions | myfilter:regionInput;let m = index;" (focus)=" m==focusindexR " [ngClass]="{pinkfocus : m==focusindexR }" [ngStyle]="scrollList" >
                                            <div  (click)="selectRegion(region);$event.stopPropagation();" index="{m}" [attr.region]='region'>{{region}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap service-description">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Service Description</p>
                        <p class="step-details hide">Multiple APIs can be bundled under a single namespace. Namespace provide easier abstraction to implement similar security & access control on your APIs.</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="input-wrapper">
                                    <textarea rows="2" cols="50" name="serviceDescription" type="text" class="textForm" placeholder="Service description" id="serviceDescription" [(ngModel)]="model.serviceDescription"  #serviceDescription='ngModel'></textarea>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap Internal-access" *ngIf="typeOfService == 'api'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title grey">Accessibility</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" [disabled]="true" id="checkbox-public" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="publicSelected" (change)="publicSelected = !publicSelected">
                                    <label for="checkbox-public" class="disableCb"></label>
                                    <div class="cb-status-dets grey">The API should be publicly accessible</div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

            <section class="each-step-wrap Internal-access" *ngIf="typeOfService == 'api'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Access Restrictions</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" id="checkbox-vpc" [disabled]="publicSelected" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="vpcSelected && !publicSelected" (change)="vpcSelected = !vpcSelected">
                                    <label for="checkbox-vpc" [class.disableCb]="publicSelected"></label>
                                    <div class="cb-status-dets"> Does your service require access to internal T-Mobile network and resources?</div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

            <section class="each-step-wrap slack-channel-integration">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Slack Channel Integration</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" (click)='slackFunction()' id="checkbox-slack" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="slackSelected" (change)="slackSelected = !slackSelected">
                                    <label for="checkbox-slack"></label>
                                    <div class="cb-status-dets"> Do you want us to notify you through #Slack?</div>
                                </div>
                                <div *ngIf="slackSelected == true">
                                    <div class="input-wrapper slack_arrow" [ngClass]="{'available': slackAvailble , 'unavailable': channelNameError || !channelname.valid && (channelname.dirty || channelname.touched)}">
                                        <input name="channelname" id="channelname" type="text" class="textForm" pattern="^[A-Za-z0-9\-_]+$" required placeholder="Enter Slack Channel name" #channelname='ngModel' [(ngModel)]="model.slackName" (blur)="checkSlackNameAvailability()" (ngModelChange)="onSlackChange($event)">
                                        <img class="input-loader ng-hide">
                                        <p class="termsConditions" *ngIf="!channelname.valid && (channelname.dirty || channelname.touched)">Slack channel must contain only letters, numbers, hyphens and underscores.</p>
                                        <p class="termsConditions" *ngIf="channelname.valid && slackAvailble">Slack channel is available.</p>
                                        <!-- <p class="termsConditions" *ngIf="channelname.valid && slackNotAvailble">Slack channel is not available. Please provide a valid slack channel.</p> -->
                                        <p class="termsConditions" *ngIf="channelname.valid && channelNameError">Error in validating Slack Channel name. Please try again or contact administrator.</p>
                                        <div class='create-slack' *ngIf="channelname.valid && slackNotAvailble">
                                            <p class="termsConditions" >This channel doesn’t exist.  <span class='magen'>Create channel</span></p>
                                            <span class="slack-checkbox custom-cb">
                                                <input type="checkbox"  id="checkbox-slack2" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="createslackSelected" (change)="createslackSelected = !createslackSelected" >
                                                <label for="checkbox-slack2"></label>
                                            </span>
                                        </div>
                                        
                                        <img *ngIf="channelname.valid && slackChannelLoader" class="input-loader" src="../assets/images/icons/loading.png">
                                        <div class="CreateSlackWindow termsConditions arrow_box" *ngIf="channelname.valid && slackNotAvailble && createslackSelected">
                                            
                                            <p>This channel will be public. Anyone on your team can view and join this channel.</p>
                                            <label for="slackName">Name<span class='magen'>*</span></label>
                                            <input name="slackName" pattern="^[a-z]" type="text" class="textForm slackForm" required placeholder="#name" [(ngModel)]="model.slackName" #createSlackModelname='ngModel' (blur)='checkSlackNameAvailability()'>
                                            <p class="slackForm">Names must be lowercase,  with no spaces,  and unique.</p>
                                            
                                            <label for="slackPurpose">Purpose (optional)</label>
                                            <input name="slackPurpose"  type="text" class="textForm slackForm"   [(ngModel)]="createSlackModel.purpose">
                                            <p class="slackForm">What’s this channel about?</p>
                                            
                                            <div class="" id='slackInvite'>
                                                <div class="loading-row" [class.show]="isLoadingNewSlack">
                                                    <div class="loading-circle"></div>
                                                </div>
                                                <section class="pad-left0">
                                                    <div class="input-field-container">
                                                        
                                                        <label for="slackInvite">Send invites to<span class='magen'>*</span></label>
                                                        
                                                        <div class="selected-approvers whit  slackForm">
                                                            <ul (click)='focusInput2($event)'>
                                                                <li *ngFor="let selected of selectedApprovers2;let i=index" >
                                                                    {{selected.displayName}} ({{selected.userId}})
                                                                    <span (click)="removeApprover2(i, selected)" class="icon-icon-close"></span>
                                                                </li>
                                                                <input (keydown)="keypress2($event);" autocomplete="off" id="approverName2" name="approverName2" type="text" class="textForm" [(ngModel)]="approverName2" (ngModelChange)="onApproverChange2($event)">
                        
                                                            </ul>
                                                        </div>
                                                        <div [hidden]="!showApproversList2" class="approvers-list-wrap">
                                                            <div class="approvers-list typeShow open">
                                                                <div class="approvers-dets" *ngFor="let approvers2 of approversList2 | myfilter:approverName2;let i = index;" (focus)=" i==focusindex " [ngClass]="{pinkfocuslack : i==focusindex }" [ngStyle]="scrollList" >
                                                                    <div  (click)="$event.preventDefault();selectApprovers2( approvers2);" index="{i}" [attr.displayName]='approvers2.displayName' [attr.givenName]='approvers2.givenName' [attr.userId]='approvers2.userId' [attr.userEmail]='approvers2.userEmail'>{{approvers2.displayName || approvers2.givenName}} ({{approvers2.userId}})</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </section>
                                            </div>                                         
                                                                                      
                                            <!-- <input name="slackInvite" type="text" class="textForm slackForm" [(ngModel)]="createSlackModel.invites"> -->
                                            <div class='createSlackbtns'>
                                                <a (click)='cancelCreateSlack()'>CANCEL</a>
                                                <btn-jazz-primary [disablePrimaryBtn]='(createSlackModelname.valid && (createSlackModelname.dirty || createSlackModelname.touched)) || !createSlackModel.name || selectedApprovers2.length==0' class='createSlackbtn' text='CREATE' (click)='createSlack($event)'></btn-jazz-primary>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap cache-ttl-integration" *ngIf="typeOfService == 'api'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title grey">Cache Time-to-Live (TTL)</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" [disabled]="true" id="checkbox-ttl" [checked]="ttlSelected" (change)="ttlSelected = !ttlSelected" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false">
                                    <label for="checkbox-ttl" class="disableCb"></label>
                                    <div class="cb-status-dets grey"> Yes, enable caching for my API.</div>
                                </div>
                                <div *ngIf="ttlSelected == true">
                                    <div class="input-wrapper" [ngClass]="{'unavailable': invalidttl}">
                                        <input name="ttlField" type="number" class="textForm" required placeholder="Enter time in seconds" [(ngModel)]="model.ttlValue" (ngModelChange)="onTTLChange($event)" #ttlField='ngModel' min="1" max="3600" OnlyNumber="true">
                                        <img class="input-loader ng-hide">
                                        <p class="termsConditions"> Maximum value fot TTL is 3600 seconds</p>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <section class="each-step-wrap event-schedule" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Event Schedule</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <div class="input-field-container event-schedule-radio row zero-margin">
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="EventSchedule" id="none" [value]="none" [checked]="rateExpression.type == 'none'" (click)="onEventScheduleChange('none')">
                                    <label for="none"><span></span><span class="background"></span>None</label>
                                </div>
                            </section>
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="EventSchedule" id="fixedRate" [value]="rate" [checked]="rateExpression.type == 'rate'" (click)="onEventScheduleChange('rate')">
                                    <label for="fixedRate"><span></span><span class="background"></span>Fixed Rate of</label>
                                </div>
                            </section>
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="EventSchedule" id="cron" [value]="cron" [checked]="rateExpression.type == 'cron'" (click)="onEventScheduleChange('cron')">
                                    <label for="cron"><span></span><span class="background"></span>Cron Expression</label>
                                </div>
                            </section>
                        </div>
                        <div class="event-schedule-fields" [ngClass]="{'zero-padding': rateExpression.type == 'none'}">
                            <div class='clearfix'>
                                <div class="cron-fields row zero-margin arrow_box" *ngIf="rateExpression.type == 'cron'">
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Minutes</p>
                                        <div class="input-wrapper">
                                            <input name="rateMinute" type="text" class="textForm" required [(ngModel)]="cronObj.minutes" #rateMinute='ngModel' (ngModelChange)="generateExpression(rateExpression)">
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Hours</p>
                                        <div class="input-wrapper">
                                            <input name="rateHour" type="text" class="textForm" [(ngModel)]="cronObj.hours" #rateHour='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Day-of-month</p>
                                        <div class="input-wrapper">
                                            <input name="rateDayofMonth" type="text" class="textForm" [(ngModel)]="cronObj.dayOfMonth" #rateDayofMonth='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Month</p>
                                        <div class="input-wrapper">
                                            <input name="rateMonth" type="text" class="textForm" [(ngModel)]="cronObj.month" #rateMonth='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Day-of-week</p>
                                        <div class="input-wrapper">
                                            <input name="rateDayOfWeek" type="text" class="textForm" [(ngModel)]="cronObj.dayOfWeek" #rateDayOfWeek='ngModel' (ngModelChange)="generateExpression(rateExpression)" required>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <p class="sm-input-label">Year</p>
                                        <div class="input-wrapper">
                                            <input name="rateYear" type="text" class="textForm" required [(ngModel)]="cronObj.year" #rateYear='ngModel' (ngModelChange)="generateExpression(rateExpression)">
                                        </div>
                                    </div>
                                </div>
                                <div class="rate-field row  zero-margin arrow_box" *ngIf="rateExpression.type == 'rate'">
                                    <div class="col-lg-7 padding-right-0">
                                        <div class="input-wrapper" [ngClass]="{'available': rateField.valid && (rateField.dirty || rateField.touched), 'unavailable': !rateField.valid && (rateField.dirty || rateField.touched)}">
                                            <input name="rateField" type="number" class="textForm" required [(ngModel)]="rateExpression.duration" (ngModelChange)="generateExpression(rateExpression)" #rateField='ngModel' OnlyNumber="true">
                                            <img class="input-loader ng-hide">
                                        </div>
                                    </div>
                                    <div class="col-lg-5">
                                        <div class="input-wrapper">
                                            <dropdown [dropdwnContent]="rateData" title="Select interval" [selected]="rateExpression.interval" [statusFilter]="statusFilter" (onSelected)="onSelectedDr($event)"></dropdown>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-error" *ngIf="rateExpression.error != undefined">
                                {{rateExpression.error}}
                            </div>
                            <p *ngIf="rateExpression.type != 'none'" class="learn-more"><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/ScheduledEvents.html">Learn more</a> about CloudWatch Event schedules</p>
                        </div>
                    </div>
                </div>
            </section>
            <!-- start of aws events -->
            <section class="each-step-wrap aws-events" *ngIf="typeOfService == 'function'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">AWS Events</p>
                        <p class="step-details">Select appropriate events that you want to subscribe to. Only {{supported_account}} AWS account is supported at this point*</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <div class="input-field-container event-schedule-radio row zero-margin">
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="AWSEvents" id="awsEventsNone" [value]="awsEventsNone" [checked]="eventExpression.type == 'awsEventsNone'" (click)="onAWSEventChange('awsEventsNone')">
                                    <label for="awsEventsNone"><span></span><span class="background"></span>None</label>
                                </div>
                            </section>
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="AWSEvents" id="dynamodb" [value]="dynamodb" [checked]="eventExpression.type == 'dynamodb'" (click)="onAWSEventChange('dynamodb')">
                                    <label for="dynamodb"><span></span><span class="background"></span>DynamoDB</label>
                                </div>
                            </section>
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="AWSEvents" id="kinesis" [value]="kinesis" [checked]="eventExpression.type == 'kinesis'" (click)="onAWSEventChange('kinesis')">
                                    <label for="kinesis"><span></span><span class="background"></span>Kinesis</label>
                                </div>
                            </section>
                            <section class="col-lg-3 col-md-3  pad-left0">
                                <div class="radio-container">
                                    <input type="radio" name="AWSEvents" id="s3" [value]="s3" [checked]="eventExpression.type == 's3'" (click)="onAWSEventChange('s3')">
                                    <label for="s3"><span></span><span class="background"></span>S3</label>
                                </div>
                            </section>
                        </div>
                        <div class="aws-event-fields rate-exp-wrp zero-margin" [ngClass]="{'zero-padding': eventExpression.type == 'none'}">
                            <div class="dynamodb-fields row zero-margin arrow_box" *ngIf="chkDynamodb()">
                                <div class="col-lg-3 padding-right-0">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">PutItem</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">Table ARN</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input type="text" disabled="disabled" class="inline-input input-label aws-events-left-block" value="arn:aws:dynamodb:us-west-2:302890901340:table/">
                                        <input id="dynamoTable" name="dynamoTable" type="text" [(ngModel)]="eventExpression.dynamoTable"  [focus]="focusDynamo" class="inline-input aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="Table Name" required>
                                  </div>
                                </div>
                                <p class="learn-more">Function would be triggered whenever the corresponding DynamoDB table is modified (e.g. a new entry is added)</p>
                            </div>

                            <div class="kinesis-fields row zero-margin arrow_box" *ngIf="chkfrKinesis()">
                                <div class="col-lg-3  padding-right-0">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">PutRecord</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">Stream ARN</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input type="text" disabled="disabled" class="inline-input input-label stream aws-events-left-block" value="arn:aws:kinesis:us-west-2:302890901340:stream/">
                                        <input id="streamARN" name="streamARN" type="text" [(ngModel)]="eventExpression.streamARN" [focus]="focusKinesis" class="inline-input stream aws-events-right-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="Stream Name" required>
                                  </div>
                                </div>
                                <p class="learn-more">Function would be triggered whenever the Lambda checkpoint has not reached the end of the Kinesis stream</p>
                            </div>

                            <div class="s3-fields row zero-margin arrow_box" *ngIf="chkS3()">
                                <div class="col-lg-3  padding-right-0">
                                    <div class="text">Event</div>
                                    <div class="slct-bx-wrp">
                                        <div class="slct-bx-selected disabled">PutItem</div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="text">Bucket Name</div>
                                    <div class="label-input slct-bx-selected input-wrapper">
                                        <input id="S3BucketName" name="S3BucketName" type="text" [(ngModel)]="eventExpression.S3BucketName" [focus]="focusS3" class="inline-input aws-events-left-block ng-touched ng-not-empty ng-dirty ng-valid-parse ng-valid ng-valid-required" placeholder="Bucket Name" required autofocus>
                                  </div>
                                </div>
                                <p class="learn-more">Function would be triggered when an object is added or modified inside the bucket</p>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
            <!-- end of aws events -->
            <section class="each-step-wrap cloudfront-url" *ngIf="typeOfService == 'website'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">CDN configuration</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" id="checkbox-cdnconfig" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="cdnConfigSelected" (change)="cdnConfigSelected = !cdnConfigSelected">
                                    <label for="checkbox-cdnconfig"></label>
                                    <div class="cb-status-dets">Do you need CDN configured for your website?</div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>

            <section class="each-step-wrap cloudfront-url" *ngIf="typeOfService == 'website'">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Clone Repository from Git</p>
                        <!-- <p class="step-details">Donec facilisis tortor ut augue lacinia, at viverra est semper. Sed sapien metus, scelerisque nec pharetra id.</p> -->
                    </div>

                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">

                            <div class="input-field-container">
                                <div class="slack-checkbox custom-cb">
                                    <input  type="checkbox" id="checkbox-gitclone" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="gitCloneSelected" (change)="gitChange()">
                                    <label for="checkbox-gitclone"></label>
                                    <div class="cb-status-dets">Do you need clone your code from Git?</div>
                                </div>
                            </div>

                            <div *ngIf="gitCloneSelected == true">
                                <label for="giturl" class="static-value">https://</label>
                                <input name="gitUrl"  id="giturl" type="text" class="textForm" required   [(ngModel)]="gitRepo" (blur)='validateGIT()' placeholder="Enter Git repository url" [class.ip-err]="git_err">
                                <p *ngIf='git_err' class='git-error'>Invalid Git Url</p>
                                <div class="slack-checkbox custom-cb">
                                    <input type="checkbox" id="checkbox-gitprivate" class="ng-untouched ng-valid ng-dirty ng-valid-parse" aria-invalid="false" [checked]="gitprivateSelected" (change)="gitprivateSelected = !gitprivateSelected">
                                    <label for="checkbox-gitprivate"></label>
                                    <div class="cb-status-dets">Is this a private repository?</div>
                                </div>
                                <div *ngIf="gitprivateSelected == true">
                                    <input name="gitUsername" id="gitusername" type="text" class="textForm" placeholder="Enter Git username" required [(ngModel)]="gitusername">
                                    <input name="gitUserpwd" id="gituserpwd" type="password" class="textForm" placeholder="Enter Git password" required [(ngModel)]="gituserpwd">
                                </div>
                                
                            </div>

                        </section>
                    </div>
                </div>
            </section>

            <section class="each-step-wrap approvers">
                <div class="row">
                    <div class="col-lg-4 col-md-4">
                        <p class="step-title">Approvers<span>*</span></p>                     
                        
                        <p class="step-details">User(s) who are required to approve code changes, deployment activities etc. They should be part of CORP AD Domain.</p>
                    </div>
                    <div class="col-lg-8 col-md-8">
                        <section class="col-lg-12  pad-left0">
                            <div class="input-field-container">
                                <p class="step-title">
                                    Users
                                </p>
                                <div class="selected-approvers">
                                    <ul (click)='focusInput($event)'>
                                        <li *ngFor="let selected of selectedApprovers;let i=index"   >
                                            {{selected.displayName}} ({{selected.userId}})
                                            <span (click)="removeApprover(i, selected)" class="icon-icon-close"></span>
                                        </li>
                                        <input (keydown)="keypress($event)"   autocomplete="off" id="approverName" name="approverName" type="text" class="textForm" [(ngModel)]="approverName" (ngModelChange)="onApproverChange($event)">

                                    </ul>
                                </div>
                                <div [hidden]="!showApproversList" class="approvers-list-wrap">
                                    <div class="approvers-list typeShow open">
                                        <div class="approvers-dets" *ngFor="let approverss of approversList | myfilter:approverName;let j = index;" (focus)=" j==focusindex " [ngClass]="{pinkfocususers : j==focusindex }" [ngStyle]="scrollList" >
                                            <div  (click)="selectApprovers(approverss);$event.stopPropagation();" index="{j}" [attr.displayName]='approverss.displayName' [attr.givenName]='approverss.givenName' [attr.userId]='approverss.userId' [attr.userEmail]='approverss.userEmail'>{{approverss.displayName || approverss.givenName}} ({{approverss.userId}})</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </section>
            <p class="requiredInfo"><span>*</span>Indicates required fields</p>
            <section class="submit-form">
                <button type="submit" [disabled]="!serviceForm.valid || (disableForm())" class="btn btn-primary">SUBMIT</button>
            </section>
        </form>
    </div>
    <div *ngIf='serviceRequested'>
        <section class="success-screen" *ngIf='serviceRequestSuccess'>
            <div class="icon-icon-server-success success-text-color"></div>
            <p class="success-text success-text-color">SUCCESS!</p>
            <section >
                    <p class="refer">{{resMessage}}</p>
                </section>
                <section >
                    <p class="refer">You can find more details on next steps <a target="_blank" href="{{docs_int_jazz}}">here</a>.</p>
                    
                </section>
            <section class="footer-btn">
                <btn-jazz-primary text="DONE" newclass="back-btn" (click)="closeCreateService(serviceRequestSuccess)"></btn-jazz-primary>
            </section>
        </section>
        <section class="error-screen" *ngIf='serviceRequestFailure'>
            <div class="icon-icon-server-error">
                <span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span><span class="path7"></span><span class="path8"></span><span class="path9"></span><span class="path10"></span>
            </div>
            <p class="error-text">Oops!</p>
            <section>
                <p class="refer">{{errMessage}}</p>
                <p class="refer">If the issue persists, please contact us </p>
            </section>
            <section class="footer-btn">
                <btn-jazz-primary text="BACK" newclass="back-btn" (click)="backToCreateService()"></btn-jazz-primary>
            </section>
        </section>
    </div>
</div>
