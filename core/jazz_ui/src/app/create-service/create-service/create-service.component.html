<jazz-mob-header (backClick)='closeCreateService(serviceRequestSuccess)'
                 class='show-for-mobile'
                 [icon]="'notification'"
                 [headText]="'Create a Service'"
                 [status]="'none'"></jazz-mob-header>

<div class="create-service-menu"
     (click)="closeDropdowns()"
     [ngClass]="isLoading ? 'body-fix':'body-auto'">
  <section class="create-service-header hide-for-mobile">
    <h4 class="jz-bold-title">
      Create a Service
    </h4>
    <div (click)="closeCreateService(serviceRequestSuccess)" class="icon-icon-close"></div>

  </section>
  <create-service-row [title]="'Choose the type of service you want to create'" [required]="true">
    <radio-panels [(selected)]="createServiceForm.type" [options]="serviceTypeOptions"></radio-panels>
  </create-service-row>
  <create-service-row [title]="'Choose your platform you would like to use'" [required]="true">
    <radio-panels [(selected)]="createServiceForm.platform"
                  [options]="platformOptions"></radio-panels>
  </create-service-row>
  <create-service-row [title]="'Choose your runtime'"
                      [type]="createServiceForm.type" [serviceTypes]="'api function'" [required]="true">
    <radio-checkbox [(selected)]="createServiceForm.runtime"
                    [options]="runtimeOptions"></radio-checkbox>
  </create-service-row>
  <create-service-row [title]="'Service Name'" [required]="true">
    <div class="jz-relative">
      <input type="text" class="jz-input"
             [attr.data-state]="serviceNameMessage"
             [(ngModel)]="createServiceForm.serviceName"
             (blur)="validateServiceName($event)">

      <img *ngIf="availabilityLoader" class="jz-input-loader" src="../assets/images/icons/loading.png">
      <div [ngSwitch]="serviceNameMessage" class="ja-input-message">
        <p *ngSwitchCase="'valid-available'" class="jz-success">
          Service name in the specified namespace is available!
        </p>
        <p *ngSwitchCase="'invalid-character'" class="jz-error">
          Service name must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)
        </p>
        <p *ngSwitchCase="'invalid-unavailable'" class="jz-error">
          Service name in the specified namespace is not available. Please try another combination of namespace &
          service name.
        </p>
        <p *ngSwitchCase="'invalid-hyphens'" class="jz-error">
          Service name should not start or end with hyphens
        </p>
      </div>
    </div>
  </create-service-row>
  <create-service-row [title]="'Namespace'">
    <div class="jz-relative">
      <input type="text" class="jz-input"
             [attr.data-state]="namespaceMessage"
             [(ngModel)]="createServiceForm.namespace"
             (blur)="validateNamespace($event)">
      <img *ngIf="availabilityLoader" class="jz-input-loader" src="../assets/images/icons/loading.png">
      <div [ngSwitch]="namespaceMessage" class="jz-input-message">
        <p *ngSwitchCase="'invalid-character'" class="jz-error">
          Namespace must contain only letters, numbers or hyphens (consecutive hyphens are not allowed)
        </p>
        <p *ngSwitchCase="'invalid-hyphens'" class="jz-error">
          Namespace should not start or end with hyphens
        </p>
      </div>
    </div>
  </create-service-row>
  <create-service-row [title]="'Description'">
    <textarea class="jz-input"></textarea>
  </create-service-row>
  <create-service-row [title]="'Slack Channel Integration'">
    <square-checkbox [(value)]="createServiceForm.slackIntegration">
      Do you want us to notify you through slack?
    </square-checkbox>
  </create-service-row>
  <create-service-row [title]="'Cache Time-to-Live (TTL)'">
    <square-checkbox [disabled]="true" [value]="createServiceForm.cacheTTL">Yes, I want to enable caching
    </square-checkbox>
    <input type="number" class="jz-input" placeholder="Enter time in seconds">
    <p>Maximum TTL is 3600 seconds.</p>
  </create-service-row>
  <create-service-row [title]="'CDN Configuration'">
    <square-checkbox [(value)]="createServiceForm.cdnConfigured">
      Do you need CDN configured for your website?
    </square-checkbox>
  </create-service-row>
  <create-service-row [title]="'Events'">
    <radio-checkbox [(selected)]="rateExpression.type"
                    [options]="eventScheduleOptions"></radio-checkbox>
    <create-service-event-schedule [type]="rateExpression.type"></create-service-event-schedule>
  </create-service-row>
  <create-service-row [title]="'AWS Events'">
    <radio-checkbox [(selected)]="eventExpression.type"
                    [options]="awsEventsOptions"></radio-checkbox>
    <create-service-aws-events [type]="eventExpression.type"></create-service-aws-events>
  </create-service-row>
  <div class="requiredInfo">
    <span class="jz-error">*</span>
    Indicates required fields
  </div>
  <div class="submit-form">
    <button class="jz-btn jz-btn-pink jz-btn-lg">SUBMIT</button>
  </div>
</div>
